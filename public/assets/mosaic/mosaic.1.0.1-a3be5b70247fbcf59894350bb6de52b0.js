!function(o){o.omr||(o.omr=new Object),o.omr.mosaic=function(n,t){var a=this;a.$el=o(n),a.el=n,a.$el.data("omr.mosaic",a),a.init=function(){a.options=o.extend({},o.omr.mosaic.defaultOptions,t),a.load_box()},a.load_box=function(){a.options.preload?(o(a.options.backdrop,a.el).hide(),o(a.options.overlay,a.el).hide(),o(window).load(function(){"fade"==a.options.options.animation&&0==o(a.options.overlay,a.el).css("opacity")&&o(a.options.overlay,a.el).css("filter","alpha(opacity=0)"),o(a.options.overlay,a.el).fadeIn(200,function(){o(a.options.backdrop,a.el).fadeIn(200)}),a.allow_hover()})):(o(a.options.backdrop,a.el).show(),o(a.options.overlay,a.el).show(),a.allow_hover())},a.allow_hover=function(){switch(a.options.animation){case"fade":o(a.el).hover(function(){o(a.options.overlay,a.el).stop().fadeTo(a.options.speed,a.options.opacity)},function(){o(a.options.overlay,a.el).stop().fadeTo(a.options.speed,0)});break;case"slide":startX="auto"!=o(a.options.overlay,a.el).css(a.options.anchor_x)?o(a.options.overlay,a.el).css(a.options.anchor_x):"0px",startY="auto"!=o(a.options.overlay,a.el).css(a.options.anchor_y)?o(a.options.overlay,a.el).css(a.options.anchor_y):"0px";var n={};n[a.options.anchor_x]=a.options.hover_x,n[a.options.anchor_y]=a.options.hover_y;var t={};t[a.options.anchor_x]=startX,t[a.options.anchor_y]=startY,o(a.el).hover(function(){o(a.options.overlay,a.el).stop().animate(n,a.options.speed)},function(){o(a.options.overlay,a.el).stop().animate(t,a.options.speed)})}},a.init()},o.omr.mosaic.defaultOptions={animation:"fade",speed:150,opacity:1,preload:0,anchor_x:"left",anchor_y:"bottom",hover_x:"0px",hover_y:"0px",overlay:".mosaic-overlay",backdrop:".mosaic-backdrop"},o.fn.mosaic=function(n){return this.each(function(){new o.omr.mosaic(this,n)})}}(jQuery);